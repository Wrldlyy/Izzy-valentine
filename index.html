<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>A Special Question</title>

<!-- Google Fonts with swap so text isn't invisible while loading -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet" />

<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --pink-bg:#fce4ec;
  --pink-mid:#f8bbd0;
  --pink-deep:#ec407a;
  --pink-soft:#fff0f3;
  --text-dark:#5d3a4a;
  --text-mid:#8e5468;
  --shadow:0 8px 40px rgba(180,80,110,.18);
  --card-bg:rgba(255,255,255,.93);
}

html,body{
  min-height:100%;
  /* safe fallback stack if Google Fonts hasn't loaded yet */
  font-family:'Nunito', 'Segoe UI', system-ui, sans-serif;
  background:linear-gradient(145deg,var(--pink-bg) 0%,#f8c8d4 45%,var(--pink-mid) 100%);
  color:var(--text-dark);
  overflow-x:hidden;
}
body{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:24px;
  position:relative;
}

/* ─── Floating Hearts BG ─── */
.hearts-bg{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
.hearts-bg .heart{position:absolute;opacity:.12;animation:floatHeart linear infinite}
.hearts-bg .heart svg{width:100%;height:100%}
@keyframes floatHeart{
  0%  {transform:translateY(100vh) rotate(0deg);opacity:0}
  10% {opacity:.12}
  90% {opacity:.12}
  100%{transform:translateY(-120px) rotate(360deg);opacity:0}
}

/* ─── Card ─── */
.card{
  position:relative;
  z-index:1;
  background:var(--card-bg);
  backdrop-filter:blur(6px);
  border-radius:32px;
  box-shadow:var(--shadow);
  padding:52px 44px 48px;
  max-width:480px;
  width:100%;
  text-align:center;
  border:1px solid rgba(255,255,255,.6);
}

/* ─── Doodle ─── */
.doodle-wrap{
  width:100px;height:100px;
  margin:0 auto 18px;
  animation:gentleBob 3s ease-in-out infinite;
}
@keyframes gentleBob{
  0%,100%{transform:translateY(0)}
  50%    {transform:translateY(-7px)}
}

/* ─── Headline ─── */
.headline{
  font-family:'Playfair Display', Georgia, serif;
  font-style:italic;
  font-weight:700;
  font-size:clamp(1.75rem,5vw,2.45rem);
  line-height:1.25;
  color:var(--text-dark);
  margin-bottom:36px;
  letter-spacing:-.5px;
}
.headline .hi{color:var(--pink-deep)}

/* ─── Button Row (Yes only – stays centred in flow) ─── */
.btn-row{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:50px;
  position:relative;
  z-index:2;
}

/* Yes */
.btn-yes{
  font-family:'Nunito', 'Segoe UI', sans-serif;
  font-weight:700;font-size:1.2rem;
  color:#fff;
  background:linear-gradient(135deg,#ec407a,#e91e63);
  border:none;border-radius:50px;
  padding:14px 42px;
  cursor:pointer;
  box-shadow:0 4px 18px rgba(233,30,99,.35);
  transition:transform .2s,box-shadow .2s;
}
.btn-yes:hover {transform:scale(1.07);box-shadow:0 6px 24px rgba(233,30,99,.45)}
.btn-yes:active{transform:scale(.97)}

/* No – absolutely positioned inside .card, roams freely */
.btn-no{
  position:absolute;
  font-family:'Nunito', 'Segoe UI', sans-serif;
  font-weight:600;font-size:1.05rem;
  color:var(--text-mid);
  background:var(--pink-soft);
  border:2px solid var(--pink-mid);
  border-radius:50px;
  padding:12px 32px;
  cursor:pointer;
  transition:left .22s cubic-bezier(.34,1.56,.64,1),
             top  .22s cubic-bezier(.34,1.56,.64,1);
  user-select:none;-webkit-user-select:none;
  touch-action:manipulation;
  z-index:3;
  white-space:nowrap;
}
.btn-no:hover{background:#ffd0dc}

/* ─── Yay Screen ─── */
.yay-screen{
  display:none;
  flex-direction:column;
  align-items:center;
  gap:16px;
  animation:fadeIn .5s ease;
}
.yay-screen.show{display:flex}
@keyframes fadeIn{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}

.yay-title{
  font-family:'Playfair Display', Georgia, serif;
  font-style:italic;
  font-size:clamp(3rem,10vw,4.4rem);
  font-weight:700;
  color:var(--pink-deep);
  animation:pop .4s cubic-bezier(.17,.67,.16,1.56);
  letter-spacing:-1px;
}
@keyframes pop{0%{transform:scale(.3);opacity:0}100%{transform:scale(1);opacity:1}}

/* ─── Dog Card ─── */
.dog-card{
  width:100%;max-width:320px;
  background:#fff;
  border-radius:24px;
  overflow:hidden;
  box-shadow:0 6px 28px rgba(180,80,110,.22);
  animation:dogIn .5s cubic-bezier(.17,.67,.16,1.56) .1s both;
}
@keyframes dogIn{0%{transform:scale(.78);opacity:0}100%{transform:scale(1);opacity:1}}

.dog-illustration{
  background:linear-gradient(170deg,#fff0f3 0%,#fce4ec 100%);
  padding:28px 20px 18px;
  display:flex;justify-content:center;
}
.dog-illustration svg{ width:240px;height:240px; }

/*
 * Tail wag: transform-box:fill-box makes the element's own bounding box
 * the reference for transform-origin — works correctly on SVG <g> elements.
 */
.tail-wag{
  transform-box:fill-box;
  transform-origin:center bottom;   /* pivot at base of tail */
  animation:wag .4s ease-in-out infinite;
}
@keyframes wag{
  0%,100%{ transform:rotate(-20deg); }
  50%    { transform:rotate(20deg);  }
}

.dog-caption{
  background:#fff;
  padding:16px 18px 18px;
  text-align:center;
  font-family:'Playfair Display', Georgia, serif;
  font-style:italic;
  font-weight:700;
  font-size:1.18rem;
  color:var(--pink-deep);
  line-height:1.35;
}

/* ─── Confetti ─── */
.confetti-container{position:fixed;inset:0;pointer-events:none;z-index:99}
.confetti-piece{
  position:absolute;top:-20px;
  animation:confettiFall 1.8s ease-in forwards;
}
@keyframes confettiFall{
  0%  {transform:translateY(0) rotate(0deg);opacity:1}
  100%{transform:translateY(100vh) rotate(720deg);opacity:0}
}

/* ─── Instructions ─── */
.instructions{
  position:relative;z-index:1;
  margin-top:44px;max-width:480px;width:100%;
  background:rgba(255,255,255,.55);
  backdrop-filter:blur(4px);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.5);
  padding:22px 26px;
  font-size:.85rem;color:var(--text-mid);line-height:1.6;
}
.instructions h3{font-size:.92rem;color:var(--text-dark);margin-bottom:4px;margin-top:12px}
.instructions h3:first-child{margin-top:0}
.instructions code{
  background:rgba(236,64,122,.08);border-radius:6px;
  padding:2px 7px;font-size:.82rem;color:var(--pink-deep);
}

/* ─── Responsive ─── */
@media(max-width:520px){
  .card{padding:40px 24px 36px;border-radius:24px}
  .dog-card{max-width:290px}
}
</style>
</head>
<body>

<div class="hearts-bg" id="heartsBg"></div>

<!-- ═══ CARD ═══ -->
<div class="card" id="card">

  <!-- cute bear -->
  <div class="doodle-wrap" id="doodleWrap">
    <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="25" cy="23" r="11" fill="#f48fb1"/>
      <circle cx="25" cy="23" r="6.5" fill="#fce4ec"/>
      <circle cx="75" cy="23" r="11" fill="#f48fb1"/>
      <circle cx="75" cy="23" r="6.5" fill="#fce4ec"/>
      <ellipse cx="50" cy="38" rx="27" ry="23" fill="#f48fb1"/>
      <ellipse cx="50" cy="41" rx="17" ry="14" fill="#fce4ec"/>
      <ellipse cx="40" cy="36" rx="4" ry="4.5" fill="#5d3a4a"/>
      <ellipse cx="60" cy="36" rx="4" ry="4.5" fill="#5d3a4a"/>
      <circle cx="38.5" cy="34.5" r="1.6" fill="#fff"/>
      <circle cx="41"   cy="37"   r="0.9" fill="#fff"/>
      <circle cx="58.5" cy="34.5" r="1.6" fill="#fff"/>
      <circle cx="61"   cy="37"   r="0.9" fill="#fff"/>
      <ellipse cx="50" cy="42" rx="2.8" ry="2" fill="#ec407a"/>
      <path d="M46.5 45 Q50 49 53.5 45" stroke="#5d3a4a" stroke-width="1.8" stroke-linecap="round" fill="none"/>
      <ellipse cx="35" cy="43" rx="3.2" ry="1.8" fill="#f48fb1" opacity=".45"/>
      <ellipse cx="65" cy="43" rx="3.2" ry="1.8" fill="#f48fb1" opacity=".45"/>
      <ellipse cx="50" cy="72" rx="19" ry="17" fill="#f48fb1"/>
      <path d="M31 65 Q24 73 30 80" stroke="#f48fb1" stroke-width="7.5" stroke-linecap="round" fill="none"/>
      <path d="M69 65 Q76 73 70 80" stroke="#f48fb1" stroke-width="7.5" stroke-linecap="round" fill="none"/>
      <path d="M50 60 C46 56 39 56 39 62 C39 67 50 74 50 74 C50 74 61 67 61 62 C61 56 54 56 50 60Z" fill="#ec407a"/>
      <path d="M43 60 C43 58 46 57 48 59" stroke="#fff" stroke-width="1.4" stroke-linecap="round" fill="none" opacity=".6"/>
    </svg>
  </div>

  <h1 class="headline" id="mainContent">
    Izzy will you be my <span class="hi">valantine</span>?
  </h1>

  <!-- Yes stays centred in normal flow -->
  <div class="btn-row" id="btnRow">
    <button class="btn-yes" id="btnYes">Yes</button>
  </div>

  <!-- No roams the whole card -->
  <button class="btn-no" id="btnNo">No</button>

  <!-- ─── YAY SCREEN ─── -->
  <div class="yay-screen" id="yayScreen">
    <div class="yay-title">Yay!</div>

    <div class="dog-card">
      <div class="dog-illustration">
        <svg viewBox="0 0 240 240" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="fur" x1="0" y1="0" x2="0.3" y2="1">
              <stop offset="0%" stop-color="#f5c882"/>
              <stop offset="100%" stop-color="#e8a84c"/>
            </linearGradient>
            <linearGradient id="belly" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#fde8c8"/>
              <stop offset="100%" stop-color="#f5d9a8"/>
            </linearGradient>
            <radialGradient id="earInner" cx="50%" cy="20%" r="70%">
              <stop offset="0%" stop-color="#d4875a"/>
              <stop offset="100%" stop-color="#c06a3a"/>
            </radialGradient>
            <radialGradient id="headshine" cx="38%" cy="28%" r="50%">
              <stop offset="0%" stop-color="#fff" stop-opacity=".22"/>
              <stop offset="100%" stop-color="#fff" stop-opacity="0"/>
            </radialGradient>
          </defs>

          <!-- TAIL – class drives the wag animation -->
          <g class="tail-wag" transform="translate(170,148)">
            <path d="M0 10 C-8 -4 -18 -22 -10 -36 C-4 -46 6 -42 4 -32 C2 -24 -4 -14 0 -4 C4 6 8 10 0 10Z" fill="url(#fur)"/>
            <path d="M-2 6 C-6 -6 -12 -20 -6 -30" stroke="#fde8c8" stroke-width="3" stroke-linecap="round" fill="none" opacity=".5"/>
          </g>

          <!-- BODY -->
          <ellipse cx="120" cy="168" rx="58" ry="44" fill="url(#fur)"/>
          <ellipse cx="120" cy="175" rx="34" ry="24" fill="url(#belly)"/>

          <!-- BACK LEGS + PAWS -->
          <rect x="82"  y="198" width="22" height="28" rx="11" fill="url(#fur)"/>
          <rect x="136" y="198" width="22" height="28" rx="11" fill="url(#fur)"/>
          <ellipse cx="93"  cy="226" rx="13" ry="6" fill="url(#belly)"/>
          <ellipse cx="147" cy="226" rx="13" ry="6" fill="url(#belly)"/>

          <!-- FRONT LEGS + PAWS -->
          <rect x="88"  y="190" width="20" height="32" rx="10" fill="url(#fur)"/>
          <rect x="132" y="190" width="20" height="32" rx="10" fill="url(#fur)"/>
          <ellipse cx="98"  cy="222" rx="12" ry="5.5" fill="url(#belly)"/>
          <ellipse cx="142" cy="222" rx="12" ry="5.5" fill="url(#belly)"/>

          <!-- COLLAR + HEART TAG -->
          <rect x="88" y="134" width="64" height="10" rx="5" fill="#ec407a"/>
          <rect x="116" y="133" width="8" height="12" rx="2" fill="#ffd54f"/>
          <g transform="translate(117,145)">
            <path d="M3 0 C2 -1.8 0 -1.8 0 0 C0 1.5 3 3.5 3 3.5 C3 3.5 6 1.5 6 0 C6 -1.8 4 -1.8 3 0Z" fill="#ec407a"/>
          </g>

          <!-- FLOPPY EARS (behind head) -->
          <ellipse cx="72"  cy="105" rx="22" ry="42" fill="#c06a3a" transform="rotate(-8 72 105)"/>
          <ellipse cx="72"  cy="108" rx="15" ry="34" fill="url(#earInner)" transform="rotate(-8 72 108)"/>
          <ellipse cx="168" cy="105" rx="22" ry="42" fill="#c06a3a" transform="rotate(8 168 105)"/>
          <ellipse cx="168" cy="108" rx="15" ry="34" fill="url(#earInner)" transform="rotate(8 168 108)"/>

          <!-- HEAD -->
          <circle cx="120" cy="100" r="52" fill="url(#fur)"/>
          <circle cx="120" cy="100" r="52" fill="url(#headshine)"/>

          <!-- MUZZLE -->
          <ellipse cx="120" cy="118" rx="24" ry="18" fill="url(#belly)"/>

          <!-- EYES -->
          <ellipse cx="100" cy="96" rx="10" ry="11" fill="#fff"/>
          <ellipse cx="140" cy="96" rx="10" ry="11" fill="#fff"/>
          <circle cx="101" cy="98" r="7.2" fill="#2c1810"/>
          <circle cx="141" cy="98" r="7.2" fill="#2c1810"/>
          <circle cx="98.5"  cy="95.5" r="3"   fill="#fff"/>
          <circle cx="103"   cy="100"  r="1.4" fill="#fff"/>
          <circle cx="138.5" cy="95.5" r="3"   fill="#fff"/>
          <circle cx="143"   cy="100"  r="1.4" fill="#fff"/>

          <!-- EYEBROWS -->
          <path d="M90 83 Q100 79 110 83" stroke="#c06a3a" stroke-width="2.8" stroke-linecap="round" fill="none"/>
          <path d="M130 83 Q140 79 150 83" stroke="#c06a3a" stroke-width="2.8" stroke-linecap="round" fill="none"/>

          <!-- NOSE -->
          <ellipse cx="120" cy="112" rx="6" ry="4.5" fill="#3e2723"/>
          <ellipse cx="118" cy="111" rx="2" ry="1.2" fill="#fff" opacity=".45"/>

          <!-- MOUTH + TONGUE -->
          <path d="M112 116 Q120 126 128 116" fill="#3e2723"/>
          <path d="M113.5 116.5 Q120 124 126.5 116.5" fill="#ef5350"/>
          <ellipse cx="120" cy="122" rx="5.5" ry="4.5" fill="#ef5350"/>
          <ellipse cx="120" cy="120" rx="5.5" ry="3"   fill="#f48fb1"/>
          <line x1="120" y1="118" x2="120" y2="126" stroke="#e53935" stroke-width="1" opacity=".4"/>

          <!-- BLUSH -->
          <ellipse cx="87"  cy="108" rx="7" ry="3.5" fill="#f48fb1" opacity=".45"/>
          <ellipse cx="153" cy="108" rx="7" ry="3.5" fill="#f48fb1" opacity=".45"/>

          <!-- FOREHEAD PATCH -->
          <ellipse cx="120" cy="78" rx="10" ry="7" fill="url(#belly)" opacity=".6"/>
        </svg>
      </div>
      <div class="dog-caption">Me when you said yes</div>
    </div>
  </div>

</div><!-- /card -->

<div class="confetti-container" id="confettiWrap"></div>

<!-- ─── instructions removed from the page the girl sees ─── -->
<!-- kept here as a comment for you:
     • Rename this file to index.html (it already is).
     • Push to your GitHub repo (any branch).
     • Go to GitHub → Settings → Pages → pick your branch → Save.
     • Your live URL: https://YOU.github.io/REPONAME/
     • OR just drag-and-drop the folder onto https://deploy.netlify.app
     • Copy that URL into an email, iMessage, whatever – done.
-->

<!-- ═══ SCRIPT ═══ -->
<script>
(function(){
  "use strict";

  const card         = document.getElementById("card");
  const btnNo        = document.getElementById("btnNo");
  const btnYes       = document.getElementById("btnYes");
  const mainContent  = document.getElementById("mainContent");
  const yayScreen    = document.getElementById("yayScreen");
  const confettiWrap = document.getElementById("confettiWrap");
  const doodleWrap   = document.getElementById("doodleWrap");
  const btnRow       = document.getElementById("btnRow");

  /* ── clamp + place ── */
  const PAD = 16;
  function clamp(x, y){
    const w = card.clientWidth, h = card.clientHeight;
    const bw = btnNo.offsetWidth, bh = btnNo.offsetHeight;
    return {
      x: Math.max(PAD, Math.min(w - bw - PAD, x)),
      y: Math.max(PAD, Math.min(h - bh - PAD, y))
    };
  }
  function place(x, y){
    const c = clamp(x, y);
    btnNo.style.left = c.x + "px";
    btnNo.style.top  = c.y + "px";
  }

  /* ── init: sit next to Yes ── */
  function initNo(){
    const cardRect = card.getBoundingClientRect();
    const rowRect  = btnRow.getBoundingClientRect();
    const rowTop   = rowRect.top - cardRect.top;
    const rowMid   = rowTop + rowRect.height / 2 - btnNo.offsetHeight / 2;
    place(card.clientWidth / 2 + 40, rowMid);
  }
  requestAnimationFrame(initNo);
  window.addEventListener("resize", initNo);

  /* ── flee: run away from cursor ── */
  const TRIGGER = 80;
  function flee(mx, my){
    const cr    = card.getBoundingClientRect();
    const btnCx = btnNo.offsetLeft + btnNo.offsetWidth  / 2;
    const btnCy = btnNo.offsetTop  + btnNo.offsetHeight / 2;
    let dx = btnCx - (mx - cr.left);
    let dy = btnCy - (my - cr.top);
    const len = Math.sqrt(dx*dx + dy*dy) || 1;
    dx /= len; dy /= len;

    const dist   = 100 + Math.random() * 120;
    const wobble = (Math.random() - 0.5) * 90;
    // perpendicular = (-dy, dx)
    const nx = btnCx + dx * dist + (-dy) * wobble;
    const ny = btnCy + dy * dist +  dx  * wobble;

    place(nx - btnNo.offsetWidth / 2, ny - btnNo.offsetHeight / 2);
  }
  function check(mx, my){
    const r  = btnNo.getBoundingClientRect();
    const dx = mx - (r.left + r.width  / 2);
    const dy = my - (r.top  + r.height / 2);
    if(Math.sqrt(dx*dx + dy*dy) < TRIGGER) flee(mx, my);
  }
  document.addEventListener("mousemove", function(e){ check(e.clientX, e.clientY); });
  document.addEventListener("touchstart", function(e){
    check(e.touches[0].clientX, e.touches[0].clientY);
  },{ passive: true });

  /* ── floating hearts ── */
  (function(){
    const c   = document.getElementById("heartsBg");
    const svg = '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>';
    for(let i=0;i<14;i++){
      const h = document.createElement("div");
      h.className = "heart";
      const s = 18 + Math.random()*28;
      const l = Math.random()*100;
      const d = 7  + Math.random()*9;
      h.style.cssText = `width:${s}px;height:${s}px;left:${l}%;animation-duration:${d}s;animation-delay:${-Math.random()*d}s;color:#ec407a;`;
      h.innerHTML = svg;
      c.appendChild(h);
    }
  })();

  /* ── confetti ── */
  const COLORS = ["#ec407a","#f48fb1","#ffd54f","#81c784","#64b5f6","#ce93d8","#fff176"];
  function launchConfetti(){
    for(let i=0;i<90;i++){
      const p = document.createElement("div");
      p.className = "confetti-piece";
      const s   = 6 + Math.random()*9;
      const l   = Math.random()*100;
      const dur = 1.2 + Math.random()*0.9;
      const del = Math.random()*0.35;
      const col = COLORS[Math.floor(Math.random()*COLORS.length)];
      p.style.cssText = `width:${s}px;height:${s}px;left:${l}%;background:${col};border-radius:${Math.random()>.5?"50%":"3px"};animation-duration:${dur}s;animation-delay:${del}s;`;
      confettiWrap.appendChild(p);
    }
    setTimeout(()=>{ confettiWrap.innerHTML=""; }, 2600);
  }

  /* ── Yes click ── */
  btnYes.addEventListener("click", function(){
    doodleWrap.style.display  = "none";
    mainContent.style.display = "none";
    btnRow.style.display      = "none";
    btnNo.style.display       = "none";
    yayScreen.classList.add("show");
    launchConfetti();
  });
})();
</script>
</body>
</html>
